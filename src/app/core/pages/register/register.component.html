<section class="px-14 lg:px-0">
  <div class="rounded-2xl md:w-[25.625rem]">
    <h2 class="text-[1.5488rem] font-[Inter] font-bold mb-6">Sign up</h2>
    <form
      [formGroup]="registerForm"
      (ngSubmit)="submitForm()"
      class="flex flex-col"
    >
      <div class="flex flex-col gap-2">
        <div>
          <input
            formControlName="firstName"
            type="text"
            placeholder="First Name"
            class=" w-[25.625rem] h-[3.505rem] p-3 mb-4 border rounded-lg focus:outline-none focus:ring-2 bg-gray-50 focus:ring-blue-500"
          />
          <!-- first name error -->
          @let fNameControl = registerForm.get('firstName'); @if
          (fNameControl?.errors && fNameControl?.touched) {
          <div
            class="flex p-2 text-sm text-red-800 rounded-lg bg-red-50"
            role="alert"
          >
            <svg
              class="shrink-0 inline w-4 h-4 me-3 mt-[2px]"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="currentColor"
              viewBox="0 0 20 20"
            >
              <path
                d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"
              />
            </svg>
            <span class="sr-only">Danger</span>
            <div>
              <ul class="list-disc list-inside">
                @if (fNameControl?.hasError('required')) {
                <li>This field is required</li>
                } @else if (fNameControl?.hasError('minlength')) {
                <li>Minimm length is 3</li>
                } @else if (fNameControl?.hasError('maxlength')) {
                <li>Maximm length is 20</li>
                }
              </ul>
            </div>
          </div>
          }
        </div>
        <div>
          <input
            formControlName="lastName"
            type="text"
            placeholder="Last Name"
            class="w-[25.625rem] h-[3.505rem] p-3 mb-4 border rounded-lg focus:outline-none focus:ring-2 bg-gray-50 focus:ring-blue-500"
          />
          <!-- name error -->
          @let sNameControl = registerForm.get('lastName'); @if
          (sNameControl?.errors && sNameControl?.touched) {
          <div
            class="flex p-2 text-sm text-red-800 rounded-lg bg-red-50"
            role="alert"
          >
            <svg
              class="shrink-0 inline w-4 h-4 me-3 mt-[2px]"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="currentColor"
              viewBox="0 0 20 20"
            >
              <path
                d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"
              />
            </svg>
            <span class="sr-only">Danger</span>
            <div>
              <ul class="list-disc list-inside">
                @if (sNameControl?.hasError('required')) {
                <li>This field is required</li>
                } @else if (sNameControl?.hasError('minlength')) {
                <li>Minimm length is 3</li>
                } @else if (sNameControl?.hasError('maxlength')) {
                <li>Maximm length is 20</li>
                }
              </ul>
            </div>
          </div>
          }
        </div>
        <div>
          <input
            formControlName="email"
            type="email"
            placeholder="Email"
            class="w-[25.625rem] h-[3.505rem] p-3 mb-4 border rounded-lg focus:outline-none focus:ring-2 bg-gray-50 focus:ring-blue-500"
          />
        </div>
        @let emailControl = registerForm.get('email'); @if (emailControl?.errors
        && emailControl?.touched) {
        <div
          class="flex p-2 text-sm text-red-800 rounded-lg bg-red-50"
          role="alert"
        >
          <svg
            class="shrink-0 inline w-4 h-4 me-3 mt-[2px]"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"
            />
          </svg>
          <span class="sr-only">Danger</span>
          <div>
            <ul class="list-disc list-inside">
              @if (emailControl?.hasError('required')) {
              <li>This field is required</li>
              } @else if (emailControl?.hasError('email')) {
              <li>Please enter a valid email</li>
              }
            </ul>
          </div>
        </div>
        }

        <div class="relative mb-4 w-[25.625rem] h-[3.505rem]">
          <input
            formControlName="password"
            type="password"
            placeholder="Password"
            class="w-full h-full p-3 border rounded-lg focus:outline-none focus:ring-2 bg-gray-50 focus:ring-blue-500"
          />
          <span
            class="absolute right-4 top-4 flex items-center text-gray-400 cursor-pointer"
          >
            <span class="w-[1.5713rem] h-[1.6319rem]"
              ><img src="images/icons/fluent_eye-20-filled.png"
            /></span>
          </span>
        </div>
         @let passwordControl = registerForm.get('password');
          @if(passwordControl?.errors && passwordControl?.touched) {
         <div
           class="flex p-2 text-sm text-red-800 rounded-lg bg-red-50"
           role="alert"
         >
           <svg
             class="shrink-0 inline w-4 h-4 me-3 mt-[2px]"
             aria-hidden="true"
             xmlns="http://www.w3.org/2000/svg"
             fill="currentColor"
             viewBox="0 0 20 20"
           >
             <path
               d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"
             />
           </svg>
           <span class="sr-only">Danger</span>
           <div>
             <ul class="list-disc list-inside">
               @if (passwordControl?.hasError('required')) {
               <li>This field is required</li>
               } @else if (passwordControl?.hasError('pattern')) {
               <li>
                 Password must contain at least one uppercase letter, one
                 lowercase letter, and one number
               </li>
               }
             </ul>
           </div>
         </div>
         }
        <div class="relative mb-4 w-[25.625rem] h-[3.505rem]">
          <input
            formControlName="rePassword"
            type="password"
            placeholder="Confirm Password"
            class="w-full h-full p-3 border rounded-lg focus:outline-none focus:ring-2 bg-gray-50 focus:ring-blue-500"
          />
          <span
            class="absolute right-4 top-4 flex items-center text-gray-400 cursor-pointer"
          >
            <span class="w-[1.5713rem] h-[1.6319rem]"
              ><img src="images/icons/fluent_eye-20-filled.png"
            /></span>
          </span>
        </div>
          @let rePasswordControl = registerForm.get('rePassword');
         @if (registerForm.getError('mismatch') &&
         rePasswordControl?.touched) {
         <div
           class="flex p-2 text-sm text-red-800 rounded-lg bg-red-50"
           role="alert"
         >
           <svg
             class="shrink-0 inline w-4 h-4 me-3 mt-[2px]"
             aria-hidden="true"
             xmlns="http://www.w3.org/2000/svg"
             fill="currentColor"
             viewBox="0 0 20 20"
           >
             <path
               d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"
             />
           </svg>
           <span class="sr-only">Danger</span>
           <div>
             <ul class="list-disc list-inside">
               <li>Passwords do not match</li>
             </ul>
           </div>
         </div>
         }
        <div class="relative  w-[25.625rem] h-[3.505rem]">
          <input
            formControlName="phone"
            type="tel"
            placeholder="Phone Number"
            class="w-full h-full p-3 border rounded-lg focus:outline-none focus:ring-2 bg-gray-50 focus:ring-blue-500"
          />
          <span
            class="absolute right-4 top-4 flex items-center text-gray-400 cursor-pointer"
          >
          </span>
        </div>
        @let phoneControl = registerForm.get('phone'); @if
        (phoneControl?.errors && phoneControl?.touched) {
        <div
          class="flex p-2 text-sm text-red-800 rounded-lg bg-red-50"
          role="alert"
        >
          <svg
            class="shrink-0 inline w-4 h-4 me-3 mt-[2px]"
            aria-hidden="true"
            xmlns="http://www.w3.org/2000/svg"
            fill="currentColor"
            viewBox="0 0 20 20"
          >
            <path
              d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"
            />
          </svg>
          <span class="sr-only">Danger</span>
          <div>
            <ul class="list-disc list-inside">
              @if (phoneControl?.hasError('required')) {
              <li>This field is required</li>
              } @else if (phoneControl?.hasError('pattern')) {
              <li>
                Phone number is not valid, please enter an Egyptian phone
                number
              </li>
              }
            </ul>
          </div>
        </div>
      }
        <span
          class="mb-6 font-[poppins] font-medium text-[1rem] text-[#313131] text-center"
          >Already have an account?
          <a
            [routerLink]="['/login']"
            class="text-[#4461F2] hover:underline cursor-pointer"
            >Login</a
          ></span
        >
      </div>
      <button
        [disabled]="isLoading"
        type="submit"
        type="submit"
        class="w-[25.625rem] h-[3.5rem] rounded-[20px] p-[.5rem] gap-[.5rem] bg-[#4461F2] text-white shadow-[#2F1C1C1A] font-[poppins] font-[400] text-[1rem] hover:bg-blue-700 transition "
      >
        Sign up @if (isLoading) {
        <span class="ml-2"><i class="fas fa-spin fa-spinner"></i></span>
        }
      </button>
      <!-- Success Message box -->
      @if (successMsg) {
      <p
        class="w-full max-w-lg mt-4 px-4 py-3 text-white font-bold text-center rounded-lg bg-green-600 border border-green-700 shadow-md dark:bg-green-500 dark:border-green-600"
      >
        {{ successMsg }}
      </p>
      }
    </form>
    <div class="flex flex-col items-center justify-center w-[25.625rem]">
      <div class="flex items-center w-full my-8">
        <div class="flex-grow border-t border-gray-300"></div>
        <span class="px-4 text-gray-500">Or Continue with</span>
        <div class="flex-grow border-t border-gray-300"></div>
      </div>
      <ul class="flex justify-center gap-4 w-full">
        <li
          class="flex items-center justify-center w-[3.9375rem] h-[3.9375rem] bg-white border-[.0638rem] rounded-[.9894rem] shadow-2xl"
        >
          <a class="rounded-full">
            <img
              src="images/icons/Logo-Google.png"
              class="w-[1.4731rem] h-[1.4731rem]"
              alt=""
            />
          </a>
        </li>

        <li
          class="flex items-center justify-center w-[3.9375rem] h-[3.9375rem] bg-white border-[.0638rem] rounded-[.9894rem] shadow-2xl"
        >
          <a class="rounded-full">
            <img
              src="images/icons/Logo-twitter.png"
              class="w-[1.8125rem] h-[1.4731rem]"
              alt=""
            />
          </a>
        </li>

        <li
          class="flex items-center justify-center w-[3.9375rem] h-[3.9375rem] bg-white border-[.0638rem] rounded-[.9894rem] shadow-2xl"
        >
          <a class="rounded-full">
            <img
              src="images/icons/logo-face.png"
              class="w-[1.4806rem] h-[1.4731rem]"
              alt=""
            />
          </a>
        </li>

        <li
          class="flex items-center justify-center w-[3.9375rem] h-[3.9375rem] bg-white border-[.0638rem] rounded-[.9894rem] shadow-2xl"
        >
          <a class="rounded-full">
            <img
              src="images/icons/Logo-apple.png"
              class="w-[19.86px] h-[1.4731rem]"
              alt=""
            />
          </a>
        </li>
      </ul>
    </div>
  </div>
</section>
